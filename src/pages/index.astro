---
// Images
import { Image } from "astro:assets";
import creative from "../assets/creative.avif";
import freestyle from "../assets/freestyle.avif";
import hand from "../assets/hand.png";

import { getCollection } from "astro:content"
import PageLayout from "@layouts/PageLayout.astro"
import ArrowCard from "@components/ArrowCard"
import StackCard from "@components/StackCard.astro"
import { SITE, SOCIALS } from "@consts"
import TwinklingStars from "@components/TwinklingStars.astro"
import MeteorShower from "@components/MeteorShower.astro"

const projects = (await getCollection("projects"))
  .filter(project => !project.data.draft)
  .sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf())
  .slice(0,3)

const stack = [
  // { text: "HTML", icon: "html", href: "https://www.w3schools.com/html/" },
  // { text: "CSS", icon: "css", href: "https://www.w3schools.com/css/" },
  { text: "Javascript", icon: "javascript", href: "https://www.javascript.com" },
  { text: "Typescript", icon: "typescript", href: "https://www.typescriptlang.org" },
  { text: "Node.js", icon: "node", href: "https://nodejs.org/en" },
  { text: "React.js", icon: "react", href: "https://react.dev/" },
  { text: "Next.js", icon: "next", href: "https://nextjs.org/" },
  { text: "Vue.js", icon: "vue", href: "https://vuejs.org/" },
  { text: "Nuxt.js", icon: "nuxt", href: "https://nuxt.com/" },
  // { text: "Astro", icon: "astro", href: "https://astro.build"},
  { text: "PHP", icon: "php", href: "https://www.php.net/" },
  { text: "Laravel", icon: "laravel", href: "https://laravel.com/" },
  { text: "Tailwind", icon: "tailwind", href: "https://tailwindcss.com" },
  { text: "Bootstrap", icon: "bootstrap", href: "https://getbootstrap.com/" },
  { text: "Sass", icon: "sass", href: "https://sass-lang.com/" },
  { text: "MySQL", icon: "mysql", href: "https://www.mysql.com/" },
  { text: "SQLite", icon: "sqlite", href: "https://www.sqlite.org/" },
  { text: "PostgreSQL", icon: "postgresql", href: "https://www.postgresql.org/" },
  { text: "MongoDB", icon: "mongodb", href: "https://www.mongodb.com/" },
  { text: "Firebase", icon: "firebase", href: "https://firebase.google.com/" },
  { text: "Supabase", icon: "supabase", href: "https://supabase.com/" },
  { text: "AWS", icon: "aws", href: "https://aws.amazon.com/" },
  { text: "Azure", icon: "azure", href: "https://azure.microsoft.com/en-us" },
  // { text: "Cloud", icon: "gcloud", href: "https://cloud.google.com/" },
  { text: "NVM", icon: "nvm", href: "https://github.com/nvm-sh/nvm" },
  { text: "Docker", icon: "docker", href: "https://www.docker.com/" },
  { text: "Git", icon: "git", href: "https://git-scm.com/" },
  { text: "Linux", icon: "linux", href: "https://www.linux.org/" },
  { text: "Figma", icon: "figma", href: "https://www.figma.com/" },
  // { text: "NPM", icon: "npm", href: "https://www.npmjs.com/" },
  // { text: "PNPM", icon: "pnpm", href: "https://pnpm.io/" },
  // { text: "Yarn", icon: "yarn", href: "https://classic.yarnpkg.com/en/" },
  // { text: "Bun", icon: "bun", href: "https://bun.sh/" },
];
---

<PageLayout title="Home" description={SITE.DESCRIPTION}>

  <!-- Light Mode: Particles -->
  <div class='absolute inset-0 block dark:hidden'>
    <div id='particles1' class='fixed inset-0'></div>
    <div id='particles2' class='fixed inset-0'></div>
  </div>

  <!-- Dark Theme: Stars -->
  <div class='absolute inset-0 bg-black hidden dark:block'>
    <div id='stars1' class='fixed inset-0'></div>
    <div id='stars2' class='fixed inset-0'></div>
  </div>

  <!-- Dark Theme: Twinkling Stars / Metors -->
  <div id="galaxy" class="fixed inset-0">
    <div class="hidden dark:block">
      <TwinklingStars/>
      <MeteorShower/>
    </div>
  </div>

  <script is:inline src="/js/bg.js"></script>

  <!-- HERO -->
  <section class="relative h-screen w-full">
    <div id="planetcont" class='animate absolute inset-0 top-1/4 overflow-hidden'>
      <div id="crescent" class='absolute top-0 left-1/2 -translate-x-1/2 w-[250vw] min-h-[100vh] aspect-square rounded-full p-[1px] bg-gradient-to-b from-black/25 dark:from-white/75 from-0% to-transparent to-5%'>
        <div id="planet" class='w-full h-full bg-white dark:bg-black rounded-full p-[1px] overflow-hidden flex justify-center'>
          <div id="blur" class='w-full h-20 rounded-full bg-neutral-900/25 dark:bg-white/25 blur-3xl'/>
        </div>
      </div>
    </div>
    <div class="animate absolute h-full w-full flex items-center justify-center">
      <div class='relative w-full h-full flex items-center justify-center'>
        <div class='p-5 text-center'>
          <p class='animated text-lg md:text-xl lg:text-2xl font-semibold opacity-75'>
            Hey there
            <span>
              <Image src={hand} alt="Wave" class=" w-7 h-7 inline" />
            </span>
            I am
          </p>
          <p class='animated text-5xl md:text-6xl lg:text-7xl font-bold uppercase text-black dark:text-white animate-pulse'>
            Kurt Calacday
          </p>
          <p class='animated text-sm md:text-base lg:text-lg opacity-75'>
            Software Engineer / Web & Applications Developer
          </p>
          <div id="ctaButtons" class='animated flex flex-wrap gap-4 justify-center mt-5'>
            <a href='/src/assets/Resume.pdf' download class='py-2 px-4 rounded-lg truncate text-xs md:text-sm lg:text-base bg-black dark:bg-white text-white dark:text-black hover:opacity-75 blend'>
              Check my resume
            </a>
            <a href='/work' class='py-2 px-4 truncate-lg rounded-lg text-xs md:text-sm lg:text-base border border-black/25 dark:border-white/25 hover:bg-black/5 hover:dark:bg-white/15 blend'>
              View my projects
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <div class="relative bg-white dark:bg-black">
    <div class="mx-auto max-w-screen-lg p-5 space-y-24">

      <!-- About Section -->
      <section class="animate">
        <article>

          <div class="gap-6 items-center mx-auto lg:grid lg:grid-cols-2">
              <div class="text-black sm:text-lg dark:text-white">
                  <p class="text-xl font-semibold text-black dark:text-white">About me</p>

                <p>Professional Software Engineer / Full Stack Web Developer with a passion for
                  building efficient, scalable, and user-centric web applications. </p>

                <b/>

                <p>With hands-on experience in both front-end and back-end development, I specialize in
                  <i>Frameworks</i> like <b>React.js, Next.js, Vue.js, Node.js </b> and various <i>CSS frameworks</i> including <b>Tailwind,
                  Bootstrap, shadcn/ui</b> and <b>SASS.</b> I also excel at creating seamless user experiences while ensuring robust
                  performance and security with databases such as <b>MySQL, PostgreSQL, MongoDB, Firebase</b> and <b>Supabase.</b></p>
                <b/>
                <p>My passion for continuous learning drives me to stay updated with the latest industry trends and best
                    practices, enabling me to deliver high-quality, innovative solutions to complex challenges.</p>
              </div>
              <div class="grid grid-cols-2 gap-4 items-center mx-auto">
                  <Image src={creative} alt="Speaking" class=" w-auto h-auto rounded-lg shadow-lg" />
                  <Image src={freestyle} alt="Speaking" class="mt-6 w-auto h-auto lg:mt-14 rounded-lg  shadow-lg" />
              </div>
          </div>

        </article>
      </section>

      <!-- Tech Stack Section -->
      <section class="animate">
        <div class="space-y-4">
          <p class="font-semibold text-black dark:text-white text-xl">
            Tech Stack
          </p>
          <div class="flex flex-wrap items-center gap-2 mt-5">
            {stack.map(item => (
              <StackCard
                text={item.text}
                icon={item.icon}
                href={item.href}
              />
            ))}
          </div>
        </div>
      </section>

      <!-- Project Preview Section -->
      <section class="animate">
        <div class="space-y-4">
          <div class="flex justify-between">
            <p class="font-semibold text-black dark:text-white text-xl">
              Recent projects
            </p>
            <a href="/projects" class="w-fit col-span-3 group flex gap-1 items-center underline decoration-[.5px] decoration-black/25 dark:decoration-white/50 hover:decoration-black dark:hover:decoration-white text-black dark:text-white underline-offset-2 blend">
              <span class="text-black/75 dark:text-white/75 group-hover:text-black group-hover:dark:text-white blend">
                All projects
              </span>

            </a>
          </div>
          <ul class="space-y-4">
            {projects.map((project) => (
              <li>
                <ArrowCard entry={project}  />
              </li>
            ))}
          </ul>
        </div>
      </section>

      <!-- Contact Section -->
      <section class="animate">
        <div>
          <h2 class="font-semibold text-black dark:text-white text-lg">
            Let's Connect
          </h2>
          <p>
            Reach out to me via email or on social media.
          </p>
          <div class="grid grid-cols-4 gap-y-2 mt-4 auto-cols-min">
            {SOCIALS.map(social => (
              <div class="col-span-1 flex items-center gap-1">
                <span class="whitespace-nowrap truncate">
                  {social.NAME}
                </span>
              </div>
              <div class="col-span-3 truncate">
                <a href={social.HREF} target="_blank" class="w-fit col-span-3 group flex gap-1 items-center underline decoration-[.5px] decoration-black/25 dark:decoration-white/50 hover:decoration-black dark:hover:decoration-white text-black dark:text-white underline-offset-2 blend">
                  <span class="text-black/75 dark:text-white/75 group-hover:text-black group-hover:dark:text-white blend">
                    {social.TEXT}
                  </span>
                </a>
              </div>
            ))}
        </div>
      </section>
    </div>
  </div>
</PageLayout>
